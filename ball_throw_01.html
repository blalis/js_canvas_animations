<html>
	<head>
		<meta charset="utf-8"/>
<style>
#tutorial {
	border: solid 1px black;
}
</style>
	</head>
	<body>
		<canvas id="tutorial" width="1000" height="500">TEST</canvas>
	</body>
	<script>

		let animationID;
		let bomb_ray = 10, throw_ray = 300;
		let trajectory_angle = Math.PI, trajectory_angle_change = (2 * Math.PI) / 180;
		let bomb_x = 50, bomb_y = 500;

function sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
}

		function animate() {
			let canvas = document.getElementById('tutorial');
			let ctx = canvas.getContext('2d');
 			bomb_x = 50 + throw_ray + throw_ray * Math.cos(trajectory_angle);
 			bomb_y = 500 + throw_ray * Math.sin(trajectory_angle);
			ctx.canvas.width = ctx.canvas.width;
			ctx.fillStyle = "black";
			ctx.beginPath();
			ctx.arc(bomb_x, bomb_y, bomb_ray, 0, 2 * Math.PI);
			ctx.stroke();
			ctx.fill();
			ctx.strokeStyle = "blue";
			ctx.beginPath();
			ctx.arc(50 + throw_ray, 500, throw_ray, 0, 2 * Math.PI);
			ctx.stroke();
			if(trajectory_angle >= (2 * 3.14)) {
				cancelAnimationFrame(animationID);
				return 0;
			}
			if(trajectory_angle == Math.PI) {
				console.log("YES");
sleep(500).then(() => {
    // Do something after the sleep!
});
			}
			trajectory_angle += trajectory_angle_change;
			// setTimeout(animate, 0.25);
			animationID = requestAnimationFrame(animate);
		}

		animate();
	</script>
</html>
